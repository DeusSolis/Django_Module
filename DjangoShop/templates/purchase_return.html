{% extends 'base.html' %}
{% block content %}
    <div class="d-flex">
        <div class="ml-auto p-2">
            <form method="get" action="{% url 'base' %}">
                <button type="submit" class="btn btn-success" value="Base page">Back
                </button>
            </form>
        </div>
    </div>

    {% for return in object_list %}
        <div class="alert alert-warning" role="alert">

            <p>Goods: {{ return.purchase.product.name }}</p>
            <p>The user who returned: {{ return.purchase.user.username }}</p>
            <p>Quantity of goods: {{ return.purchase.quantity_of_products }}</p>
            <form method="post" action="{% url 'delete_purchase' return.purchase.pk %}">
                <input type="hidden" name="product_pk" value="{{ return.purchase.product.pk }}">
                <input type="hidden" name="product_price" value="{{ return.purchase.product.price }}">
                <input type="hidden" name="purchase_quantity" value="{{ return.purchase.quantity_of_products }}">
                <input type="hidden" name="purchase_user" value="{{ return.purchase.user.pk }}">
                <button type="submit" class="btn btn-success" value="Approve"> Confirm Return</button>
                {% csrf_token %}
            </form>
            <form method="post" action="{% url 'delete_return' return.pk %}">
                <button type="submit" class="btn btn-danger" value="Disapprove"> Refuse to return</button>
                {% csrf_token %}
            </form>
        </div>
    {% endfor %}



{% endblock %}